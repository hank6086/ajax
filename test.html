<html>

<script src="https://www.gstatic.com/firebasejs/5.7.0/firebase.js"></script>
<script>
    // Initialize Firebase
    var config = {
        apiKey: "AIzaSyDVQG5seFY2PWSxfSkweHI3oe2VDX37bq4",
        authDomain: "ajax-586e2.firebaseapp.com",
        databaseURL: "https://ajax-586e2.firebaseio.com",
        projectId: "ajax-586e2",
        storageBucket: "ajax-586e2.appspot.com",
        messagingSenderId: "210257692735",
        appId: "1:210257692735:web:136e2eb7bb83953bf4908a",
        measurementId: "G-R48SYZV9PD"
    };
    firebase.initializeApp(config);
</script>

<script>
    var db = firebase.database();
    function writeUserData(userId, name, email, webUrl) {
        // 這個例子是會創一個 users 的 collection
        db.ref('/users/' + userId).set({
            username: name,
            email: email,
            personal_website: webUrl
        })
            .then(function () { alert("建立成功"); })
            .catch(function () { alert("伺服器發生錯誤，請稍後再試"); });
    }
//writeUserData(1, 'Gary', 'gary@nutc.edu.tw', 'http://gary.tw')
//writeUserData(2, 'Jason', 'jason@nutc.edu.tw', 'http://jason.tw')
</script>

<script>
    function readUserData(userId) {
        db.ref('/users/' + userId).once('value', function (snapshot) {
            var data = snapshot.val();
            console.log(data);
        });
    }
</script>

<body>
    <button onclick="writeUserData(1, 'Gary', 'gary@nutc.edu.tw', 'http://gary.tw')"> write</button>
    <button onclick="readUserData(1)"> read</button>

    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <!-- <script src="/__/firebase/7.5.2/firebase-app.js"></script> -->

    <!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
    <!-- <script src="/__/firebase/7.5.2/firebase-analytics.js"></script> -->

    <!-- Initialize Firebase -->
    <!-- <script src="/__/firebase/init.js"></script> -->
</body>


</html>